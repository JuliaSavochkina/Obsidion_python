## Множества
https://pythonru.com/osnovy/mnozhestva-v-python
https://habr.com/ru/post/516858/
https://python-scripts.com/sets

Множества — это неупорядоченная коллекция **уникальных** элементов, сгруппированных под одним именем. Множество может быть неоднородным — включать элементы разных типов. Множество всегда состоит только из уникальных элементов (дубли запрещены) в отличие от списков и кортежей в Python.

Чаще всего множества в Python используются для проверки на принадлежность, удаления повторов из последовательности.

### Создание множеств
- Литерал
```python
s1 = {} # Это создаст пустое множество
s2 = {1, 'pythonru', 20.67}
```

- Функция
```python
s1 = set() # Это создаст пустое множество
s2 = set([1, 'pythonru', 20.67])
```

Нет ограничений на количество элементов в объекте set, но запрещено добавлять элементы изменяемых типов, такие как список или словарь. Если попробовать добавить список (с набором элементов), интерпретатор выдаст ошибку.
```python
s5 = { 1, 2, 3, [5, 6, 7, 8] }

>>> TypeError: unhashable type: 'list'
```
Почему мы получили именно такую ошибку? Дело в том, что объект set — это также коллекция уникальных **хэшируемых** объектов. Объект называется хэшируемым в том случае, если его значение хэша не меняется. Это используется в ключах словарей и элементах множеств, ведь значения хэшей применяются в их внутренних структурах.


### Дейсвтия с множествами

- **Добавление элементов**
Объекты `set` в Python поддерживают добавление элементов двумя путями: по одному с помощью метода `add()` или группами с помощью `update()`

Один элемент можно добавить с помощью метода `add()`. Такой код выглядит следующим образом.

```py
set1 = {1, 3, 4}
set1.add(2)
print(set1)
{1, 2, 3, 4}
```

Больше одного элемента можно добавить с помощью `update()`. Код следующий.

```py
set2 = {1, 2, 3}
set2.update([4, 5, 6])
print(set2)  #  {1, 2, 3, 4, 5, 6}
```

- **Удаление элементов**
Один или несколько элементов можно удалить из объекта `set` с помощью следующих методов. Их отличие в виде возвращаемого значения.

1.  `remove()`
2.  `discard()`
3.  `pop()`

Метод **remove()** полезен в тех случаях, когда нужно удалить из множества конкретный элемент и вернуть ошибку в том случае, если его нет в объекте.

Следующий код показывает метод `remove()` в действии.

```py
set1 = {1, 2, 3, 4, 'a', 'p'}
set1.remove(2)
print(set1) 
{1, 3, 4, 'a', 'p'}

set1.remove(5)
# Error element not found
```

**discard()**

Метод `discard()` полезен, потому что он удаляет конкретный элемент и не возвращает ошибку, если тот не был найден во множестве.

```py
set1 = {1, 3, 4, 'a', 'p'} 
set1.discard('a')
print(set1)
# {1, 3, 4 'p'}

set1.discard(6)
print(set1)
# {1, 3, 4, 'p'}
```

**pop()**
Метод `pop()` удаляет по одному элементу за раз в случайном порядке. Set — это неупорядоченная коллекция, поэтому `pop()` не требует аргументов (индексов в этом случае). Метод `pop()` можно воспринимать как неконтролируемый способ удаления элементов по одному из множеств в Python.

```py
set1 = {1, 3, 4, “p”} 
set1.pop()
3  # случайный элемент будет удален (ваш результат может отличаться)
```

- **Прочие методы множеств**

У объектов `set` есть несколько встроенных методов. Увидеть их все можно с помощью команды `dir()`. `dir(object)` в Python показывает самые важные атрибуты разных типов объектов

```py
set1 = { 1, 2, 3, 4} 
dir(set1) 

>>> ['__and__', '__class__', '__contains__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__iand__', '__init__', '__init_subclass__', '__ior__', '__isub__', '__iter__', '__ixor__', '__le__', '__len__', '__lt__', '__ne__', '__new__', '__or__', '__rand__', '__reduce__', '__reduce_ex__', '__repr__', '__ror__', '__rsub__', '__rxor__', '__setattr__', '__sizeof__', '__str__', '__sub__', '__subclasshook__', '__xor__', 'add', 'clear', 'copy', 'difference', 'difference_update', 'discard', 'intersection', 'intersection_update', 'isdisjoint', 'issubset', 'issuperset', 'pop', 'remove', 'symmetric_difference', 'symmetric_difference_update', 'union', 'update']

```


Python не предоставляет прямой способ *получения значения к отдельным элементам множества*. Однако, мы можем использовать цикл для итерации через все элементы множества. Например:
```py
months = set(["Jan", "Feb", "March", "Apr", "May", "June", "July", "Aug", "Sep", "Oct", "Nov", "Dec"])

for m in months:  
    print(m)

>>> March  
Feb  
Dec  
Jan  
May  
Nov  
Oct  
Apr  
June  
Aug  
Sep  
July
```

**in**

Она проверяет на наличие конкретного элемента в множестве.

```py
num_set = {1 ,3, 5, 7, 9, 10}
7 in num_set
# True

2 in num_set
# False

1 not in num_set
# False
```

**len(num_set)** — вернет количество элементов в объекте `set`.

```
num_set = {1 ,3, 5, 7, 9, 10}
len(num_set)
>>> 6
```

**copy()** — создает копию существующего множества и сохраняет ее в новом объекте.

```py
num_set = {1 ,3, 5, 7, 9, 10}
new_set = num_set.copy()
new_set
>>> {1 ,3, 5, 7, 9, 10}
```

**clear()** — очищает множество (удаляет все элементы за раз)

```py
num_set = {1 ,3, 5, 7, 9, 10}
num_set.clear()
>>> {}
```

**del** — удаляет множество целиком

```py
num_set = {1 ,3, 5, 7, 9, 10}
del num_set
>>> NameError: name 'num_set' is not defined
```


#### Операции множеств в Python

**Объединение множеств**
При использовании на двух множествах вы получаете новый объект, содержащий элементы обоих (без повторов). Операция объединения в Python выполняется двумя способам: с помощью символа `|` или метода `union()`.
![](https://pythonru.com/wp-content/uploads/2020/05/obedinenie-mnozhestv.gif)
```py
A = {1, 2, 3} 
B = {2, 3, 4, 5} 
C = A | B # используя символьный метод 
C = A.union(B) # используя метод union 
print(C) 
>>> {1, 2, 3, 4, 5}
```

**Пересечение множеств**
При использовании на двух множествах вы получаете новый объект, содержащий общие элементы обоих (без повторов). Операция пересечения выполняется двумя способами: с помощью символа `&` или метода `intersection()`.
![](https://pythonru.com/wp-content/uploads/2020/05/peresechenie-mnozhestv.gif)

```py
A = {1, 2, 3, 4} 
B = {3,4,5,6} 
C = A & B # используя символьный метод 
C = A.intersection(B) # используя метод intersection 
print(C)
>>> {3,4}
```

**Разность множеств**
При использовании на двух множествах вы получаете новый объект, содержащий элементы, которые есть в первом, но не втором (в данном случае — в множестве “A”). Операция разности выполняется двумя способами: с помощью символа `-` или метода `difference()`.
![](https://pythonru.com/wp-content/uploads/2020/05/raznost-mnozhestv.gif)

```py
A = {1, 2, 3, 4} 
B = {3,4,5,6}
C = A - B # используя символьный метод
C = A.difference(B) # используя метод difference
print(C)
>>> {1,2}
```

**Симметричная разность множеств**

При использовании на двух множествах вы получаете новый объект, содержащий все элементы, кроме тех, что есть в обоих. Симметрическая разность выполняется двумя способами: с помощью символа `^` или метода `symmetric_difference()`.
![](https://pythonru.com/wp-content/uploads/2020/05/simmetrichnaya-raznost-mnozhestv.gif)

```py
C = A ^ B  # используя символьный метод
C = A.symmetric_difference(B)  # используя метод symmetric_difference
print(C)
>>> {1, 2, 5, 6}
```

**Подмножество и надмножество в Python**

Множество B (`SetB`) называется подмножество A (`SetA`), если все элементы `SetB` есть в `SetA`. Проверить на подмножество в Python можно двумя способами: с помощью символа `<=` или метода `issubset()`. Он возвращает `True` или `False` в зависимости от результата.

```py
A = {1, 2, 3, 4, 5} 
B = {2,3,4}
B <= A  # используя символьный метод
B.issubset(A) # используя метод issubset
>>> True
```
![](https://pythonru.com/wp-content/uploads/2020/05/podmnozhestvo-i-nadmnozhestvo.gif)

Множество A (`SetA`) называется надмножество B (`SetB`), если все элементы `SetB` есть в `SetA`. Проверить на надмножество в Python можно двумя способами: с помощью символа `>=` или метода `issuperset()`. Он возвращает `True` или `False` в зависимости от результата.

```py
A = {1, 2, 3, 4, 5} 
B = {2,3,4}
A >= B  # используя символьный метод
A.issuperset(B) # используя метод issubset
# True
```


### Задачи
1. Напишите функцию, которая будет удалять дубли из списка.
2. 


Что еще почитать по теме?
[Множества в Python](https://pythonchik.ru/osnovy/mnozhestva-v-python)