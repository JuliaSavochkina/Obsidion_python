## Функции и списки

### Функция
Когда размер программы очень велик, список команд становится очень громоздким. Очень небольшое число программистов могут удержать в голове более 500 строк кода, если этот код не разделен наболее мелкие логические части. Функция является средством, облегчающим восприятие при чтении текста программ.

**Функция в python** - объект, принимающий аргументы и возвращающий значение. Обычно функция определяется с помощью инструкции **def**.  Круглые скобки, идущие вслед за именем функции нужны для того, чтобы интерпретатор мог различать функцию и переменную.
Определим простейшую функцию:
```python
def add(x, y):
    return x + y
```

Инструкция **return** говорит, что нужно вернуть значение. В нашем случае функция возвращает сумму x и y.

Теперь мы ее можем вызвать (в терминале):
```python
add(1, 10)
>>> 11
```

Попробуем повторить это в Pycharm.
Обратите внимание, что наша функция возвращает значение, но мы не просили его вывести, поэтому в результате выполнения мы не видим ответа. Чтобы его увидеть, необходимо вывести на печать результат выполнения функции.

Функция может и не заканчиваться инструкцией **return**, при этом функция вернет значение None:
```python
def func():
	pass

print(func())
>>> None
```

Для отладки инструкция **return** может быть заменена на **print**.

### Аргументы функции

Функция может принимать произвольное количество аргументов или не принимать их вовсе. Также распространены функции с произвольным числом аргументов, функции с **позиционными** и **именованными** аргументами, обязательными и необязательными.
```python
def func(a, b, c=2): # c - необязательный аргумент
	return a + b + c

print(func(1, 2))  # a = 1, b = 2, c = 2 (по умолчанию)
print(func(1, 2, 3))  # a = 1, b = 2, c = 3
print(func(a=1, b=3)) # a = 1, b = 3, c = 2
print(func(a=3, c=6)) # a = 3, c = 6, b не определен

>>> 5
>>> 6
>>> 6
>>>Traceback (most recent call last):
>>>  File "", line 1, in
>>>    func(a=3, c=6)
>>>TypeError: func() takes at least 2 arguments (2 given)
```

Попробуем решить задачу из домашней работы через функцию:

Напишите скрипт, что преобразует thisKindOfString в this_kind_of_string.

У нас уже есть решение задачи:
```python
s = 'thisKindOfString'  
new_s = ''  
for letter in s:  
    if letter.isupper():  
        new_letter = letter.lower()  
        new_letter_with_symbol = f'_{new_letter}'  
        new_s += new_letter_with_symbol  
    else:  
        new_s += letter  
print(new_s)
```
Перепишем выражение таким образом, чтобы можно было подавать разные строки и получать ожидаемый вывод.
1. Определим функцию и передаваемые в нее аргументы:
```python
def cc_string_to_underscored_string(s):
	pass
```
2. Скопируем логику и добавим указание на возвращаемый объект (обращайте внимание на отступы):
```python
def cc_string_to_underscored_string(s):
	new_s = ''  
	for letter in s:  
    	if letter.isupper():  
			new_letter = letter.lower()  
			new_letter_with_symbol = f'_{new_letter}'  
			new_s += new_letter_with_symbol  
		else:  
			new_s += letter
	return new_s
```
3. Вызовем функцию несколько раз с разными значениями подаваемых аргументов и выведем на печать результаты.
```python
def cc_string_to_underscored_string(s):
	new_s = ''  
	for letter in s:  
    	if letter.isupper():  
			new_letter = letter.lower()  
			new_letter_with_symbol = f'_{new_letter}'  
			new_s += new_letter_with_symbol  
		else:  
			new_s += letter
	return new_s

print(cc_string_to_underscored_string('thisKindOfString'))
print(cc_string_to_underscored_string('sayHello'))
print(cc_string_to_underscored_string('myNameIsJhon'))
```

Вы можете спросить "но в чем же разница?". Все очень просто - в функции обычно оборачивают повторяющиеся части кода, которые логически связны.
То есть, вместо того, чтобы в 10 местах вашего кода писать по 10 строк повторяющейся логики, можно написать функцию и вызвать ее 10 раз в нужных местах. В этом случае вы получите меньший объем кода, удобство анализа и правок.
В дальнейшем мы с вами все скрипты будем писать через функции, чтобы привыкнуть к ним.

### Списки

![](http://sun9-8.userapi.com/s/v1/ig2/oRrmg8549pUPbntnRA7wmDhkNlTr4idr7Y-pBC_LkOUwDs8KgLb6_MtO29YOycdGgQ9-_N5B4aUCUr6H5APsud_O.jpg?size=604x492&quality=96&type=album)

Списки в Python - упорядоченные изменяемые коллекции объектов произвольных типов (почти как массив, но типы могут отличаться).
Списки на самом деле - это набор ссылок на уже созданные в памяти объекты.
То есть если мы добавляем или убираем что-то из списка - то мы добавляем или убираем из него ссылку на другой объект.

### Методы создания списков
* Литерал
```python
x = []
```
Создайте список, состоящий из 3-х чисел.
Создайте список, состоящий из 3-х строк.
* Функция
```python
list()
```
Преобразуйте строку s = 'list' в список и выведите его на печать
* Генератор
```python
c = [c * 3 for c in 'list']
c = [c * 3 for c in 'list' if c != 'i']
```
С помощью генераторых выражений составьте список четных чисел от 0 до 16 включительно.

### Срезы
Также, как и в случае со строками, в списках можно использовать срезы с тем же синтаксисом.
list[START:STOP:STEP]
* С помощью среза составьте список четных чисел от 0 до 16 включительно и выведите на экран.
* Дан произвольный список. Представьте его в обратном порядке.

### Методы списков и операции с ними
Методы списков можно узнать в [документации](https://docs.python.org/3/tutorial/datastructures.html) или поискать в сети.

Операции:
Обращение к элементу по его индексу
```py
my_list =['один', 'два', 'три', 'четыре', 'пять']
my_list[4]
>>> 'пять'
```

Проход по списку
```python
my_list =['один', 'два', 'три', 'четыре', 'пять'] 
	for elem in my_list:
		print(elem)
```

Сложение (конкатенация)
```python
list_1 = [1, 2, 3]
list_2 = [4, 5, 6]
print(list_1 + list_2)

>>> [1, 2, 3, 4, 5, 6]
```

Умножение (повторение)
```python
list_1 = [1, 2, 3]
print(list_1 * 2)

>>> [1, 2, 3, 1, 2, 3]
```
**len()** используется для возврата количества элементов
**range()** возвращает список индексов
**sum()** суммирует (только для чисел)
**max()** возвращает максимальный элемент
**min()** возвращает минимальный элемент
**cmp(l1, l2)** сравнивает два списка, вернет `-1`, если списки не совпадают, и `1` в противном случае.

#### Задачи
1. Есть список `a = [1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89]`.
Выведите на экран 5-ый элемент списка.
2. У вас есть следующий список:  [255, 5, 8, -4.5, 10].
Выведите на экран предпоследний элемент списка. Используйте для этого отрицательный индекс.
3. Есть список `a = [1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89]`.
Выведите все элементы, которые меньше `5`.
4. Дан список некоторых целых чисел, найдите значение 20 в нем и, если оно присутствует, замените его на 200. Обновите список только при первом вхождении числа 20.
5. Напишите функцию distinct, которая принимает на вход список и удаляет из него дубликаты.
	Проверьте на [1, 2, 2, 3, 3, 4, 4, 5, 6, 7, 7, 7]
	

### Что посмотреть по теме
- [Определение и вызов функции](https://www.youtube.com/watch?v=DJAlfolEv9A)
- [Зачем нужны функции в программировании Python](https://www.youtube.com/watch?v=pL01GSH_XJk)
- [Локальная, глобальная и встроенная области видимости Python](https://www.youtube.com/watch?v=8NDjlmCRCsk) *
- [Сопоставление аргументов по имени и позиции](https://www.youtube.com/watch?v=kFHIEjLyh8g)
- [*args и ** kwargs Python. Передача аргументов в функцию](https://www.youtube.com/watch?v=mcAB5dBXMp4)
- [Основы Python #6: функции](https://www.youtube.com/watch?v=Zb3lF4qfElA)